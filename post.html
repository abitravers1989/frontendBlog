<!doctype html>

<html lang="en">

<h1>HI</h1>

<script>

//function addEventListener(){
    //const showResults = document.querySelector('.showResults');
    //showResults.addEventListener("click", openPost)
  //}

  function openPost(event){
      //console.log(event.target.attributes[0].value)
      event.stopPropagation();
      const postContentPlaceholder = document.querySelector('.postContent');
      //give blog ID instead of blog title
      const blogTitle = event.target.attributes[0].value
     // postContentPlaceholder.innerText = getContent(blogTitle)
      //refactor and give it ID 
      const heading = document.createElement("h2")
      heading.innerText = blogTitle

      //const content = getContent(blogTitle)

      postContentPlaceholder.appendChild(heading)
      
      let contentElement = document.createElement("p")

      fetch(`http://localhost:5000/posts/${blogTitle}`)
      .then(response => response.json())

      //fetch returns a promise not a value 
      .then(jsonResponse => { return jsonResponse.content })
      .then (jsonResponse => contentElement.innerText = jsonResponse)

      postContentPlaceholder.appendChild(contentElement)

      
  }



</script>

</html>